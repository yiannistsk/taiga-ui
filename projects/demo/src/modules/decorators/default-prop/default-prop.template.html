<tui-doc-page
    i18n-header
    header="DefaultProp"
    package="CDK"
    path="cdk/decorators/default-prop.ts"
>
    <ng-template pageTab>
        <div i18n class="tui-space_bottom-3">
            Decorator for <code>@Input</code> with default value
        </div>
        <div i18n class="tui-space_bottom-3">
            <strong>Warning:</strong> decorator overrides getter/setter of input
        </div>

        <p i18n>
            Decorator stops <code>undefined</code> values if they were passed
            into input. If it gets <code>undefined</code>, it will use default
            value and show an error message about the problem in console in dev
            mode.
        </p>

        <div i18n>
            See
            <a tuiLink [routerLink]="['/decorators/required-setter']">
                RequiredSetter
            </a>
            for work with setters
        </div>

        <div>
            <p i18n>See console. Min value is 5</p>
            <example-tui-default-prop-demo
                [quantity]="quantity"
            ></example-tui-default-prop-demo>
            <tui-input-count class="tui-space_top-4" [(ngModel)]="quantity">
                quantity
            </tui-input-count>
            <button
                tuiButton
                type="button"
                class="tui-space_top-4 tui-space_bottom-8"
                (click)="setUndefined()"
            >
                Set undefined
            </button>
        </div>
    </ng-template>

    <ng-template pageTab>
        <p i18n>
            You can also pass contract function of type
            <code>TuiBooleanHandler&lt;T&gt;</code> with the component instance
            as <code>this</code>. If check is unsuccessful, it shows an error
            message about the problem in console in dev mode.
        </p>
        <tui-doc-documentation>
            <ng-template
                i18n
                documentationPropertyName="assertion"
                documentationPropertyType="TuiBooleanHandler<T>"
            >
                Optional argument, contract function
                <p>
                    <strong>Warning:</strong> Angular Compiler does not allow
                    arrow functions in decorators with
                    <code>strictMetadataEmit</code> (by default). Add
                    <code>// @dynamic</code> comment right above your
                    <code>@Component</code> decorator to use them
                </p>
            </ng-template>
            <ng-template
                i18n
                documentationPropertyName="args"
                documentationPropertyType="any"
            >
                Arguments for console.error if check is unsuccessful
            </ng-template>
        </tui-doc-documentation>
    </ng-template>

    <ng-template pageTab>
        <ol class="b-demo-steps">
            <li>
                <p i18n>
                    Add <code>@tuiDefaultProp</code> to input of your component
                </p>

                <tui-doc-code
                    filename="myComponent.component.ts"
                    [code]="exampleDecorator"
                ></tui-doc-code>
            </li>
        </ol>
    </ng-template>
</tui-doc-page>
